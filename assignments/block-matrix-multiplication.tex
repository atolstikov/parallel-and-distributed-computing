

\section{Исследование влияния размера матриц и блоков на время реализации блочного алгоритма перемножения матриц на многоядерном CPU}

Необходимый для выполнения работы теоретический материал и алгоритмы имеются в файле <<Блочное MMM>>.

\textit{Работать над лабораторной можно в кооперации двух студентов.}

\textit{Для получения максимально информативных результатов в этой лабораторной работе квадратный массив нужно представлять линейным.}\footnote{В данном случае вместо квадратной матрицы $n \times n$ используется линейный массив из $n^2$ элементов. Первые $n$ элементов соответствуют первой строке матрицы, далее $n$ элементов -- второй строке матрицы, последние $n$ элементов -- последней строке матрицы.}

\subsection*{Задание}
\begin{enumerate}
    \item Программно реализовать (\texttt{С} или \texttt{C++}, \texttt{OpenMP}) алгоритмы точечного и блочного перемножения матриц (достаточно перемножать квадратные матрицы). В блочном варианте не допускать повторяющихся одних и тех же вычислений.
    \item Экспериментально исследовать влияние на время реализации алгоритмов:
    \begin{itemize}
        \item размеров матриц и блоков (случай $r=1$ и $r=n$~--- обычный точечный алгоритм);
        \item выбора цикла $dopar$ (внешний, внутренний), который служит для образования потоков вычислений;
    \end{itemize}
    \item Сравнить время реализации точечных алгоритмов с временем реализации блочных алгоритмов. Сравнивать как последовательные, так и параллельные версии программ.
\end{enumerate}

Результаты экспериментов представить в виде графиков и таблиц.

Для заполнения матриц $A$ и $B$ использовать случайные числа (целые или вещественные) из диапазона от $-100$ до $100$.
Для получения случайных чисел использовать библиотечную функцию rand(), подключив заголовочный файл \texttt{stdlib.h}, или функции из заголовочного файла \texttt{random.h (С++11 и выше)}.
Для вычислений выбрать параметры:
\begin{itemize}
    \item $N_1$, $N_2$, \ldots~--- размеры матриц (рассмотреть не менее двух наборов размеров матриц: небольшие размеры (до $500$, если матрица квадратная) и размеры побольше (например, от $1500$ до $2000$),  рукомендуется рассматривать квадратные матрицы;
    \item отдельно обратить внимание на матрицы со сторой равной степени двойки;
    \item $r$~--- размер блоков, рассмотреть несколько случаев: единицы ($1$, $2$, $5$), десятки ($10$, $15$, $20$, $30$, $50$), сотни ($100$, $200$, $500$, $n$), другие размеры блока по собственному усмотрению;
    \item уточнить оптимальное значение $r$ разбив необходимый интервал более подробно, например, это мог бы быть интевал $50$..$100$, тогда можно в нем выбра значения с шагом $5$.
\end{itemize}

\texttt{OpenMP} поддерживается большинством компиляторов, поэтому для использования достаточно выставить соответствующие флаги компилятора:
\begin{verbatim}
    gcc -fopenmp
    Intel   -openmp (Linux, MacOSX), -Qopenmp (Windows)
    Microsoft   -openmp (настройки проекта в Visual Studio)
\end{verbatim}

\texttt{Microsoft Visual C++ 2005 и выше} поддерживает \texttt{OpenMP 2.0} в редакциях Professional и Team System, 2010 — в редакциях Professional, Premium и Ultimate, 2012+ — во всех редакциях.

Для включения поддержки \texttt{OpenMP} в Visual Studio нужно в свойствах проекта в категории <<Configuration Properties>> $\longrightarrow$ <<C/C++>> $\longrightarrow$ <<Language>> выставить опцию <<Open~MP support>> в значение <<Yes>>. Это нужно проделать отдельно для Debug и Release конфигураций (или сразу выбрать конфигурацию Active).

\textit{Внимание: если не включить поддержку \texttt{OpenMP}, то программа скомпилируется без ошибок, но будет работать последовательно.}

Содержание работы должно включать следующие пункты.
\begin{enumerate}
    \item Входные данные: выбранные параметры.
    \item Листинг программы.
    \item Скрипт запуска всего эксперимента и получения лога или полного отчета сразу.
    \item Выходные данные: графики и (или) таблицы (Excel или iPython предпочтительно). \textbf{Запуск в Release сборке.}
    \item Проверку корректности работы алгоритмов.
\end{enumerate}

\subsection*{Особенности задания в 2021 году}
Вы можете попробовать использовать \texttt{go}, \texttt{Rust}, \texttt{java}, \texttt{numpy.array} в Python или других языках.

Код должен быть покрыт \texttt{unit}-тестами для выбранного языка, где-то для этого есть стандартные инструменты, а где-то нужно скачать и использовать дополнительные библиотеки.
